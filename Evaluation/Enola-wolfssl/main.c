#include <stdio.h>
#include "Driver_USART.h"
#include "stdout.h"
#include "Device.h"
#include "enolaTrampoline.h"
#include "aes.h"
#include "simple-crypto.h"

static FILE __stdio = FDEV_SETUP_STREAM(stdout_putchar, NULL, NULL, _FDEV_SETUP_WRITE);
FILE *const stdin = &__stdio;
__strong_reference(stdin, stdout);
__strong_reference(stdin, stderr);

/* Common main.c for the benchmarks

   Copyright (C) 2014 Embecosm Limited and University of Bristol
   Copyright (C) 2018-2019 Embecosm Limited

   Contributor: James Pallister <james.pallister@bristol.ac.uk>
   Contributor: Jeremy Bennett <jeremy.bennett@embecosm.com>

   This file is part of Embench and was formerly part of the Bristol/Embecosm
   Embedded Benchmark Suite.

   SPDX-License-Identifier: GPL-3.0-or-later */


   uint8_t plaintext[] = {0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c,
                         0x1a, 0x1b, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0xa, 0xb, 0x1c, 0x2d, 0xe, 0xf, 0x2d, 0x4c};
   uint8_t key[] = {0x12, 0xc2, 0x5d, 0x66, 0x67, 0x66, 0x27, 0x68, 0x12, 0xc2, 0x5d, 0x66, 0x67, 0x66, 0x27, 0x68, 0x12, 0xc2, 0x5d, 0x66, 0x67, 0x66, 0x27, 0x68, 0x12, 0xc2, 0x5d, 0x66, 0x67, 0x66, 0x27, 0x68};
    uint8_t ciphertext[1024];

int __attribute__ ((used))
main (int argc __attribute__ ((unused)),
      char *argv[] __attribute__ ((unused)))
{

    /*AES 128-bit test*/
//    Aes ctx;

//    size_t len = 1024;
//     init_trampoline();
//    int result; // Library result
//     if (len <= 0 || len % BLOCK_SIZE)
//         return -1;
//    result = wc_AesSetKey(&ctx, key, 16, NULL, AES_ENCRYPTION);
//     if (result != 0)
//         return result; // Report error
//        // Encrypt each block
//     for (int i = 0; i < len - 1; i += BLOCK_SIZE) {
//         result = wc_AesEncryptDirect(&ctx, ciphertext + i, plaintext + i);
//         if (result != 0)
//             return result; // Report error
//     }
//     memset(plaintext, 0, 32*32);
//         // Decrypt each block
//     result = wc_AesSetKey(&ctx, key, 16, NULL, AES_DECRYPTION);
//     for (int i = 0; i < len - 1; i += BLOCK_SIZE) {
//         result = wc_AesDecryptDirect(&ctx, plaintext + i, ciphertext + i);
//         if (result != 0)
//             return result; // Report error
//     }

}                               /* main () */


/*
   Local Variables:
   mode: C
   c-file-style: "gnu"
   End:
*/